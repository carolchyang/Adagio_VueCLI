(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b76cbc3"],{6866:function(t,a,s){"use strict";s("bf0b")},"88e9":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"header-wrap",class:{"header-scroll":t.isMenuOpen||t.scrollHeader}},[s("div",{staticClass:"container header"},[s("router-link",{staticClass:"header-logo",attrs:{to:"/"}},[t._v("Adagio")]),s("ul",{staticClass:"menu",class:{active:t.isMenuOpen}},[s("li",[s("router-link",{staticClass:"menu-link",attrs:{to:"/"}},[t._v(" 首頁 ")])],1),s("li",[s("router-link",{staticClass:"menu-link",class:{active:"Products"===t.$route.name&&"router-link-active"},attrs:{to:"/products"}},[t._v(" 產品列表 ")])],1),s("li",[s("router-link",{staticClass:"menu-link",attrs:{to:"/about"}},[t._v(" 關於我們 ")])],1),s("li",[s("router-link",{staticClass:"menu-link",attrs:{to:"/contact"}},[t._v(" 聯絡我們 ")])],1)]),s("ul",{staticClass:"header-toolbar"},[s("li",{staticClass:"dropdown"},[s("a",{staticClass:"toolbar-link",attrs:{href:"#",role:"button","data-toggle":"dropdown"}},[s("i",{staticClass:"fas fa-heart"}),s("span",{staticClass:"toolbar-num"},[t._v(t._s(t.favoritesNum))])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right px-2"},[s("h5",{staticClass:"text-center"},[t._v("我的最愛")]),s("table",{staticClass:"table table-hover mb-1",staticStyle:{"min-width":"300px"}},[s("tbody",t._l(t.favorites,(function(a){return s("tr",{key:a.key},[s("td",{staticClass:"p-0"},[s("router-link",{staticClass:"favorite-link",attrs:{to:"/products/"+a.id}},[s("span",{staticClass:"toolbar-thumbnail mr-3",style:{backgroundImage:"url("+a.imageUrl+")"}},[t._v(" >")]),s("p",{staticClass:"mb-1"},[t._v(t._s(a.title))])])],1),s("td",{staticClass:"px-1 align-middle"},[s("a",{staticClass:"toolbar-delicon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delFavoriteItem(a)}}},[s("i",{staticClass:"fas fa-times"})])])])})),0)]),t.favoritesNum?s("a",{staticClass:"btn btn-block btn-outline-danger",attrs:{href:"#","data-toggle":"modal","data-target":"#delModal"},on:{click:function(a){return a.preventDefault(),t.delFavoriteAll()}}},[t._v(" 全部清空 ")]):s("div",[t.favoritesNum?t._e():s("p",{staticClass:"mb-2 text-center text-muted"},[t._v("我的最愛是空的")]),s("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/products"}},[t._v("看更多商品")])],1)])]),s("li",{staticClass:"dropdown"},[s("a",{staticClass:"toolbar-link",attrs:{href:"#",role:"button","data-toggle":"dropdown"}},[s("i",{staticClass:"fas fa-shopping-bag"}),s("span",{staticClass:"toolbar-num"},[t._v(t._s(t.cartsNum))])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right px-2"},[s("h5",{staticClass:"text-center"},[t._v("購物車清單")]),s("table",{staticClass:"table mb-0",staticStyle:{"min-width":"300px"}},[s("tbody",t._l(t.carts,(function(a){return s("tr",{key:a.id},[s("td",[s("span",{staticClass:"toolbar-thumbnail mx-auto",style:{backgroundImage:"url("+a.product.imageUrl[0]+")"}},[t._v(" >")])]),s("td",{staticClass:"px-1 align-middle"},[s("p",{staticClass:"mb-1"},[t._v(t._s(a.product.title))]),s("p",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" x "+t._s(a.quantity)+" ")])]),s("td",{staticClass:"px-1 align-middle"},[s("a",{staticClass:"toolbar-delicon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delCartItem(a.product.id)}}},[s("i",{staticClass:"fas fa-times"})])])])})),0)]),t.cartsNum?s("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/createorder"}},[t._v(" 結帳去 ")]):s("div",[s("p",{staticClass:"mb-2 text-center text-muted"},[t._v("購物車是空的")]),s("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/products"}},[t._v("購物去")])],1)],1)])]),s("a",{staticClass:"menu-toggle",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.isMenuOpen=!t.isMenuOpen}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isMenuOpen,expression:"!isMenuOpen"}],staticClass:"p-3"},[s("i",{staticClass:"fas fa-bars"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"p-3"},[s("i",{staticClass:"fas fa-times"})])])],1)]),s("router-view",{key:t.$route.fullPath}),s("div",{staticClass:"footer"},[t._v(" ⓒ 2020 Adagio by Carol ")])],1)},r=[],i=s("5530"),o=(s("b0c0"),s("2f62")),l={name:"Layout",data:function(){return{scrollHeader:!1,isMenuOpen:!1,routerName:this.$route.name}},methods:Object(i["a"])({delCartItem:function(t){this.$store.dispatch("cartModules/delCartItem",t)},delFavoriteItem:function(t){var a=this,s=this.routerName;this.$store.dispatch("favoriteModules/delFavoriteItem",t).then((function(){"Products"===s&&a.$store.dispatch("productsModules/getProducts",{routerName:s})}))},delFavoriteAll:function(){var t=this,a=this.routerName;this.$swal({title:"刪除我的最愛",text:"確定要刪除全部我的最愛 (刪除後無法復原)",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#343a40",confirmButtonText:"確認",cancelButtonText:"取消",customClass:{title:"swal-title swal-title-danger"}}).then((function(s){s.isConfirmed&&t.$store.dispatch("favoriteModules/delFavoriteAll").then((function(){"Products"===a&&t.$store.dispatch("productsModules/getProducts",{routerName:a})}))}))},scrollPage:function(){var t=this,a=$(window).scrollTop(),s=this.routerName;switch(!0){case"Home"===s&&a>0:window.addEventListener("scroll",t.scrollPage),t.scrollHeader=!0;break;case"Home"===s:window.addEventListener("scroll",t.scrollPage),t.scrollHeader=!1;break;default:window.removeEventListener("scroll",t.scrollPage),t.scrollHeader=!0;break}}},Object(o["b"])("cartModules",["getCarts"])),computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["c"])(["isLoading"])),Object(o["c"])("cartModules",["carts","cartsNum"])),Object(o["c"])("favoriteModules",["favorites","favoritesNum"])),watch:{$route:function(t,a){var s=this;t.path!==a.path&&(s.routerName=t.name,s.isMenuOpen=!1,s.scrollPage())}},created:function(){var t=this;t.$store.dispatch("cartModules/getCarts"),t.$store.dispatch("favoriteModules/getFavorites"),t.scrollPage()}},n=l,c=(s("6866"),s("2877")),u=Object(c["a"])(n,e,r,!1,null,"0314764b",null);a["default"]=u.exports},b0c0:function(t,a,s){var e=s("83ab"),r=s("9bf2").f,i=Function.prototype,o=i.toString,l=/^\s*function ([^ (]*)/,n="name";e&&!(n in i)&&r(i,n,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})},bf0b:function(t,a,s){}}]);
//# sourceMappingURL=chunk-1b76cbc3.c6568177.js.map